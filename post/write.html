<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>面试题集合（手撕代码篇） | Xu dongdong&#x27;s blog</title><meta name="description" content="A blog created with Next.js and Tailwind.css"/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="面试题集合（手撕代码篇）"/><meta name="og:description" property="og:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="面试题集合（手撕代码篇）"/><meta name="twitter:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:creator" content="https://twitter.com/WhyYouJames"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/f8d73a71d7937abe53e1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8d73a71d7937abe53e1.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c6f966696d7d46f48c33.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" as="script"/><link rel="preload" href="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bslug%5D-24ffb71f4452474ea7b9.js" as="script"/></head><body><div id="__next"><div class="w-full min-h-screen dark:bg-gray-700 dark:text-white flex"><div class="max-w-screen-md px-4 py-12 mx-auto antialiased font-body flex flex-col flex-grow"><header class="flex items-center justify-between  mb-2"><div class="max-w-lg"><h1><a class="text-2xl font-black text-black no-underline font-display dark:text-white" href="/">Xu dongdong&#x27;s blog</a></h1></div></header><main class="flex-grow"><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">面试题集合（手撕代码篇）</h1><p class="text-sm">July 5, 2021</p></header><div class="mb-4 prose lg:prose-lg dark:prose-dark"><h2>1. 手写 bind、call、apply</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6272a4">// call</span><span>
</span><span></span><span class="token" style="color:#f1fa8c">Function</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">myCall</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">content</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  content </span><span class="token" style="color:#f8f8f2">=</span><span> content </span><span class="token" style="color:#f8f8f2">||</span><span> </span><span class="token dom" style="color:#f8f8f2">window</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> args </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token spread" style="color:#f8f8f2">...</span><span>arguments</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> result </span><span class="token" style="color:#f8f8f2">=</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span>args</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">delete</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> result</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span></span><span class="token" style="color:#6272a4">// apply</span><span>
</span><span></span><span class="token" style="color:#f1fa8c">Function</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">myApply</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">content</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  content </span><span class="token" style="color:#f8f8f2">=</span><span> content </span><span class="token" style="color:#f8f8f2">||</span><span> </span><span class="token dom" style="color:#f8f8f2">window</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">let</span><span> result
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">&amp;&amp;</span><span> </span><span class="token known-class-name" style="color:#f1fa8c">Array</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">isArray</span><span class="token" style="color:#f8f8f2">(</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      result </span><span class="token" style="color:#f8f8f2">=</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token spread" style="color:#f8f8f2">...</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span> </span><span class="token control-flow" style="color:#8be9fd">else</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      result </span><span class="token" style="color:#f8f8f2">=</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">delete</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> result
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span></span><span class="token" style="color:#6272a4">// bind</span><span>
</span><span></span><span class="token" style="color:#f1fa8c">Function</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">myBind</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">content</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  content </span><span class="token" style="color:#f8f8f2">=</span><span> content </span><span class="token" style="color:#f8f8f2">||</span><span> </span><span class="token dom" style="color:#f8f8f2">window</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> args </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token spread" style="color:#f8f8f2">...</span><span>arguments</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span>args</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>2. 手写防抖节流</h2><p>防抖</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span> </span><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">debounce</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> delay</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>   </span><span class="token" style="color:#8be9fd">let</span><span> timeout </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token null nil" style="color:#8be9fd">null</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>     </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>timeout</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>       </span><span class="token" style="color:#f1fa8c">clearTimeout</span><span class="token" style="color:#f8f8f2">(</span><span>timeout</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>     </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>     timeout </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>       fn</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">call</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">,</span><span> arguments</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>     </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> delay</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>   </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span> </span><span class="token" style="color:#f8f8f2">}</span></code></pre><p>节流</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span> </span><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">throttle</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> delay</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>   </span><span class="token" style="color:#8be9fd">let</span><span> canRun </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">true</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">!</span><span>canRun</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>     </span><span class="token control-flow" style="color:#8be9fd">return</span><span>
</span><span>   </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>   canRun </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">false</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>     fn</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">call</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span> </span><span class="token property-access">arguments</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>     canRun </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">true</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> delay</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span> </span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>3. 手写数组flat</h2><h2>4. 写一个 mySetInterVal(fn, a, b),每次间隔 a,a+b,a+2b 的时间，然后写一个 myClear，停止上面的 mySetInterVal</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">function</span><span> </span><span class="token" style="color:#f1fa8c">mySetInterVal</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> a</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> b</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">a</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> a</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">b</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> b</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">handle</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">start</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">handle</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span class="token" style="color:#f8f8f2">++</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">start</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">a</span><span> </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span> </span><span class="token" style="color:#f8f8f2">*</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">b</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">stop</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#f1fa8c">clearTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">handle</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span></span><span class="token" style="color:#8be9fd">var</span><span> a </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">mySetInterVal</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;123&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span class="token" style="color:#bd93f9">1000</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#bd93f9">2000</span><span> </span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>a</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">start</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>a</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">stop</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span></code></pre><h2>5. 斐波那契数列</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable maybe-class-name" style="color:#f1fa8c">Fibonacci</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">n</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">throw</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Error</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;输入的数字不能小于0&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#bd93f9">2</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">return</span><span> n</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token maybe-class-name" style="color:#f1fa8c">Fibonacci</span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token maybe-class-name" style="color:#f1fa8c">Fibonacci</span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#bd93f9">2</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>7. 实现 add(1)(2)(3)</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">add</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">a</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">b</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">c</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> a </span><span class="token" style="color:#f8f8f2">+</span><span> b </span><span class="token" style="color:#f8f8f2">+</span><span> c</span><span class="token" style="color:#f8f8f2">;</span></code></pre><h2>8. 数据类型判断</h2><p>typeof 可以正确识别：Undefined、Boolean、Number、String、Symbol、Function 等类型的数据，但是对于其他的都会认为是 object，比如 Null、Date 等，所以通过 typeof 来判断数据类型会不准确。但是可以使用 Object.prototype.toString 实现。</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">getType</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">obj</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f1fa8c">Object</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">toString</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">call</span><span class="token" style="color:#f8f8f2">(</span><span>obj</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">8</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>9. 数组扁平化</h2><p>数组扁平化就是将 [1, [2, [3]]] 这种多层的数组拍平成一层 [1, 2, 3]。使用 Array.prototype.flat 可以直接将多层数组拍平成一层：</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">2</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">3</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">flat</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">2</span><span class="token" style="color:#f8f8f2">)</span><span>  </span><span class="token" style="color:#6272a4">// [1, 2, 3]</span></code></pre><p>关键：递归</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">flatten</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token parameter">arr</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">let</span><span> newArr </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">for</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">let</span><span> i </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">;</span><span> i </span><span class="token" style="color:#f8f8f2">&lt;</span><span> arr</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span class="token" style="color:#f8f8f2">;</span><span> i</span><span class="token" style="color:#f8f8f2">++</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token known-class-name" style="color:#f1fa8c">Array</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">isArray</span><span class="token" style="color:#f8f8f2">(</span><span>arr</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      newArr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">concat</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f1fa8c">flatten</span><span class="token" style="color:#f8f8f2">(</span><span>arr</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>      </span><span class="token control-flow" style="color:#8be9fd">return</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    newArr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">push</span><span class="token" style="color:#f8f8f2">(</span><span>arr</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> neaArr</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>10. 深浅拷贝</h2><p>浅拷贝：只考虑对象类型</p><p>ES5版</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">function</span><span> </span><span class="token" style="color:#f1fa8c">shallowCopy</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">obj</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">typeof</span><span> obj </span><span class="token" style="color:#f8f8f2">!==</span><span> </span><span class="token" style="color:#50fa7b">&#x27;object&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">return</span><span>
</span>
<span>  </span><span class="token" style="color:#8be9fd">let</span><span> newObj </span><span class="token" style="color:#f8f8f2">=</span><span> obj </span><span class="token" style="color:#8be9fd">instanceof</span><span> </span><span class="token" style="color:#f1fa8c">Array</span><span> </span><span class="token" style="color:#f8f8f2">?</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">:</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#8be9fd">for</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">let</span><span> i </span><span class="token" style="color:#8be9fd">in</span><span> obj</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>obj</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">hasOwnProperty</span><span class="token" style="color:#f8f8f2">(</span><span>i</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      newObj</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> obj</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> newObj</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><p>ES6版</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">shallowCopy</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token parameter">obj</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token known-class-name" style="color:#f1fa8c">Array</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">isArray</span><span class="token" style="color:#f8f8f2">(</span><span>obj</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">?</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token spread" style="color:#f8f8f2">...</span><span>obj</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">:</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token spread" style="color:#f8f8f2">...</span><span>obj</span><span class="token" style="color:#f8f8f2">}</span></code></pre><p>深拷贝</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">deepClone</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token parameter">obj</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">typeof</span><span> obj </span><span class="token" style="color:#f8f8f2">!==</span><span> </span><span class="token" style="color:#50fa7b">&#x27;object&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">return</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">let</span><span> newObj </span><span class="token" style="color:#f8f8f2">=</span><span> obj </span><span class="token" style="color:#8be9fd">instanceof</span><span> </span><span class="token" style="color:#f1fa8c">Array</span><span> </span><span class="token" style="color:#f8f8f2">?</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">:</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span><span>
</span>  
<span>  </span><span class="token control-flow" style="color:#8be9fd">for</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">let</span><span> key </span><span class="token" style="color:#8be9fd">in</span><span> obj</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>obj</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">hasOwnProperty</span><span class="token" style="color:#f8f8f2">(</span><span>key</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">typeof</span><span> obj</span><span class="token" style="color:#f8f8f2">[</span><span>key</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#50fa7b">&#x27;object&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        newObj</span><span class="token" style="color:#f8f8f2">[</span><span>key</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f1fa8c">deepClone</span><span class="token" style="color:#f8f8f2">(</span><span>obj</span><span class="token" style="color:#f8f8f2">[</span><span>key</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span> </span><span class="token control-flow" style="color:#8be9fd">else</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        newObj</span><span class="token" style="color:#f8f8f2">[</span><span>key</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> obj</span><span class="token" style="color:#f8f8f2">[</span><span>key</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> newObj</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>11. 解析 URL 参数为对象</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">urlSearch</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token parameter">href</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">let</span><span> obj </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> queryIndex </span><span class="token" style="color:#f8f8f2">=</span><span> href</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">indexOf</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;?&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> urlOptions </span><span class="token" style="color:#f8f8f2">=</span><span> href</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span>queryIndex </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">,</span><span> href</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> options </span><span class="token" style="color:#f8f8f2">=</span><span> urlOptions</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">split</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;&amp;&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  options</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">map</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">option</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">const</span><span> equalIndex </span><span class="token" style="color:#f8f8f2">=</span><span> option</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">indexOf</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;=&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    obj</span><span class="token" style="color:#f8f8f2">[</span><span>option</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">,</span><span> equalIndex</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> option</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span>equalIndex </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">,</span><span> option</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> obj</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>12. 字符串模板</h2><h2>13. 实现柯里化（Currying）</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">function</span><span> </span><span class="token" style="color:#f1fa8c">curry</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">let</span><span> </span><span class="token function-variable" style="color:#f1fa8c">judge</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter spread" style="color:#f8f8f2">...</span><span class="token parameter">args</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>args</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#f8f8f2">==</span><span> fn</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token spread" style="color:#f8f8f2">...</span><span>args</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>        </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter spread" style="color:#f8f8f2">...</span><span class="token parameter">arg</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f1fa8c">judge</span><span class="token" style="color:#f8f8f2">(</span><span class="token spread" style="color:#f8f8f2">...</span><span>args</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token spread" style="color:#f8f8f2">...</span><span>arg</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">return</span><span> judge
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>14. 手写AJAX</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-js" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">myAjax</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">url</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Promise</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">resolve</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> reject</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">const</span><span> xhr </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">XMLHttpRequest</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">open</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;GET&#x27;</span><span class="token" style="color:#f8f8f2">,</span><span> url</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">setRequestHeader</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;Accept&#x27;</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#50fa7b">&#x27;application/json&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">onreadystatechange</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">readyState</span><span> </span><span class="token" style="color:#f8f8f2">!==</span><span> </span><span class="token" style="color:#bd93f9">4</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">return</span><span>
</span><span>      </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#bd93f9">200</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token" style="color:#f1fa8c">resolve</span><span class="token" style="color:#f8f8f2">(</span><span>xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">responseText</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span> </span><span class="token control-flow" style="color:#8be9fd">else</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token" style="color:#f1fa8c">reject</span><span class="token" style="color:#f8f8f2">(</span><span>xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">responseText</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    xhr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">send</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>15. 手写Promise</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token" style="color:#ff79c6">PADDING</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#50fa7b">&quot;PADDING&quot;</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token" style="color:#ff79c6">FULFILLED</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#50fa7b">&quot;FULFILLED&quot;</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token" style="color:#ff79c6">REJECTED</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#50fa7b">&quot;REJECTED&quot;</span><span class="token" style="color:#f8f8f2">;</span><span>
</span>
<span></span><span class="token" style="color:#8be9fd">class</span><span> </span><span class="token" style="color:#f1fa8c">MyPromise</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token" style="color:#f1fa8c">constructor</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">executor</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ff79c6">PADDING</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">value</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token nil" style="color:#8be9fd">undefined</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">error</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token nil" style="color:#8be9fd">undefined</span><span class="token" style="color:#f8f8f2">;</span><span>
</span>
<span>    </span><span class="token" style="color:#8be9fd">let</span><span> </span><span class="token function-variable" style="color:#f1fa8c">resolve</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">value</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#ff79c6">PADDING</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">value</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> value</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>        </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ff79c6">FULFILLED</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>    </span><span class="token" style="color:#8be9fd">let</span><span> </span><span class="token function-variable" style="color:#f1fa8c">reject</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">error</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#ff79c6">PADDING</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">error</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> error</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>        </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ff79c6">REJECTED</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>    </span><span class="token control-flow" style="color:#8be9fd">try</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token" style="color:#f1fa8c">executor</span><span class="token" style="color:#f8f8f2">(</span><span>resolve</span><span class="token" style="color:#f8f8f2">,</span><span> reject</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span> </span><span class="token control-flow" style="color:#8be9fd">catch</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>e</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token" style="color:#f1fa8c">reject</span><span class="token" style="color:#f8f8f2">(</span><span>e</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>  </span><span class="token" style="color:#f1fa8c">then</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">onFulfilled</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> onRejected</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#ff79c6">FULFILLED</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token" style="color:#f1fa8c">onFulfilled</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">value</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">status</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#ff79c6">REJECTED</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token" style="color:#f1fa8c">onRejected</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">error</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>16. 实现 Promise.all</h2><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-js" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">promiseAll</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">promises</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token known-class-name" style="color:#f1fa8c">Array</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">isArray</span><span class="token" style="color:#f8f8f2">(</span><span>promises</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">throw</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Error</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;the arguments must be an array !!!&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> promisesLength </span><span class="token" style="color:#f8f8f2">=</span><span> promises</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">let</span><span> current </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">,</span><span> result </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Promise</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">resolve</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> reject</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    promises</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">forEach</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">promise</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> i</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token known-class-name" style="color:#f1fa8c">Promise</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">resolve</span><span class="token" style="color:#f8f8f2">(</span><span>promise</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">then</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">value</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        current </span><span class="token" style="color:#f8f8f2">++</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>        result</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> value</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>        </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>current </span><span class="token" style="color:#f8f8f2">===</span><span> promisesLength</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>          </span><span class="token" style="color:#f1fa8c">resolve</span><span class="token" style="color:#f8f8f2">(</span><span>result</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>        </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>      </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token parameter">error</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f1fa8c">reject</span><span class="token" style="color:#f8f8f2">(</span><span>error</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><h2>17. 手写模版字符串</h2></div><hr class="mt-4"/><footer><div class="flex items-center mt-8 mb-16"><picture class="flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow"><source type="image/webp" data-srcset="/_next/static/images/profile-8ed88833980dc158e6d9ec3b1bb7c0a8.png.webp"/><source type="image/png" data-srcset="/_next/static/images/profile-44443f720aaa2ff4c2b67336ff9f586b.png"/><img class="lazyload blur flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow" alt="Profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAAklEQVR4AewaftIAAAFBSURBVAXBSS8DYQCA4fcz33RqWpUuU8tEkKjtUqIhJELiRCJxcfRf/AknP8OFiwMXF40DSVO0iRhLVbR0mX08jzg63Ikc28NzA1QR8vBcJ6Eq9AYUDMNAxlOsrBSRH40WIoLJbIL1qTzS63JvfRKJECd0MM0h9IREmZ4YOyaAw7UCG6UlNpfneaw8UbNa4Ie4tk9uSEO6nouCoO9FZEZNWu8WcUViZpLsH+wyMjnBX7eDzCuQ0zVsAtpvb1RrL9Stb3RNkO//MSwl6mAcWRrNMLO1jZ5UuSiXITXO6vISp+eXbNs+olal02kj/YUidiyJ5wsK63u8N74xSxmmyrecnF2TNtJoUkUa2RxO95ew3+al1yXm9tCCiLnCLPqrRbP5QSRC5GLsi0DVkekUj5UKjZ8+TSdA6ikWigYDqs/VzR3/TEV/Airrby8AAAAASUVORK5CYII="/></picture><p class="text-base leading-7">Written by <b class="font-semibold">xudd</b> <!-- -->who wants to become rich！！！<!-- --> <a href="https://twitter.com/https://twitter.com/WhyYouJames">Follow him on twitter</a></p></div></footer></article><nav class="flex flex-wrap justify-between mb-10"><a class="text-lg font-bold" href="/post/css">← <!-- -->面试题集合（CSS篇）</a><a class="text-lg font-bold" href="/post/questions">面试题集合（真题篇）<!-- --> →</a></nav></main><footer class="text-lg font-light mt-3">© <!-- -->2021<!-- --> <!-- -->Built with<!-- --> <a href="https://nextjs.org/">Next.js</a>🔥, Deployed on<!-- --> <a href="https://pages.github.com/">GitHub Pages</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"面试题集合（手撕代码篇）","date":"July 5, 2021","description":null},"post":{"content":"\n  \n## 1. 手写 bind、call、apply\n\n``` javascript\n// call\nFunction.prototype.myCall = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  const args = [...arguments].slice(1);\n  const result = content.fn(args);\n  delete content.fn;\n  return result;\n}\n\n// apply\nFunction.prototype.myApply = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  let result\n  if (arguments[1] \u0026\u0026 Array.isArray(arguments[1])) {\n    if (arguments[1].length === 1) {\n      result = content.fn(...arguments[1])\n    } else {\n      result = content.fn()\n    }\n  }\n  delete content.fn\n  return result\n}\n\n// bind\nFunction.prototype.myBind = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  const args = [...arguments].slice(1);\n  return () =\u003e {\n    content.fn(args)\n  }\n}\n```\n\n## 2. 手写防抖节流\n   \n   防抖\n   ``` javascript\n    const debounce = (fn, delay) =\u003e {\n      let timeout = null;\n      return () =\u003e {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        timeout = setTimeout(() =\u003e {\n          fn.call(this, arguments)\n        }, delay)\n      }\n    }\n   ```\n   节流\n   ``` javascript\n    const throttle = (fn, delay) =\u003e {\n      let canRun = true;\n      if (!canRun) {\n        return\n      }\n      canRun = false;\n      setTimeout(() =\u003e {\n        fn.call(this. arguments);\n        canRun = true;\n      }, delay);\n    }\n   ```\n\n## 3. 手写数组flat\n\n## 4. 写一个 mySetInterVal(fn, a, b),每次间隔 a,a+b,a+2b 的时间，然后写一个 myClear，停止上面的 mySetInterVal\n\n``` javascript\nfunction mySetInterVal(fn, a, b) {\n  this.a = a;\n  this.b = b;\n  this.time = 0;\n  this.handle = -1;\n  this.start = () =\u003e {\n    this.handle = setTimeout(() =\u003e {\n      fn();\n      this.time++;\n      this.start();\n    }, this.a + this.time * this.b);\n  }\n\n  this.stop = () =\u003e {\n    clearTimeout(this.handle);\n    this.time = 0;\n  }\n}\n\nvar a = new mySetInterVal(() =\u003e {console.log('123')},1000, 2000 );\na.start();\na.stop();\n```\n\n## 5. 斐波那契数列\n   \n``` javascript\nconst Fibonacci = (n) =\u003e {\n  if (n \u003c 0) throw new Error('输入的数字不能小于0');\n  if (n \u003c 2) return n;\n  return Fibonacci(n - 1) + Fibonacci(n - 2)\n}\n```\n   \n## 7. 实现 add(1)(2)(3)\n   \n``` javascript\nconst add = (a) =\u003e (b) =\u003e (c) =\u003e a + b + c;\n```\n\n## 8. 数据类型判断\n\ntypeof 可以正确识别：Undefined、Boolean、Number、String、Symbol、Function 等类型的数据，但是对于其他的都会认为是 object，比如 Null、Date 等，所以通过 typeof 来判断数据类型会不准确。但是可以使用 Object.prototype.toString 实现。\n\n``` javascript\nconst getType = (obj) =\u003e {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n}\n```\n\n## 9. 数组扁平化\n    \n数组扁平化就是将 [1, [2, [3]]] 这种多层的数组拍平成一层 [1, 2, 3]。使用 Array.prototype.flat 可以直接将多层数组拍平成一层：\n\n``` javascript\n[1, [2, [3]]].flat(2)  // [1, 2, 3]\n```\n\n关键：递归\n\n``` javascript\nconst flatten = arr =\u003e {\n  let newArr = [];\n  for(let i = 0; i \u003c arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      newArr.concat(flatten(arr[i]))\n      return\n    }\n    newArr.push(arr[i])\n  }\n  return neaArr;\n}\n```\n\n## 10. 深浅拷贝\n\n浅拷贝：只考虑对象类型\n\nES5版\n``` javascript\nfunction shallowCopy(obj) {\n  if (typeof obj !== 'object') return\n\n  let newObj = obj instanceof Array ? [] : {};\n\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      newObj[i] = obj[i];\n    }\n  }\n\n  return newObj;\n}\n```\n\nES6版\n``` javascript\nconst shallowCopy = obj =\u003e Array.isArray(obj) ? [...obj] : {...obj}\n```\n\n深拷贝\n\n``` javascript\nconst deepClone = obj =\u003e {\n  if (typeof obj !== 'object') return;\n  let newObj = obj instanceof Array ? [] : {};\n  \n  for (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (typeof obj[key] === 'object') {\n        newObj[key] = deepClone(obj[key]);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  return newObj;\n}\n```\n\n## 11. 解析 URL 参数为对象\n  \n``` javascript\nconst urlSearch = href =\u003e {\n  let obj = {};\n  const queryIndex = href.indexOf('?');\n  const urlOptions = href.slice(queryIndex + 1, href.length);\n  const options = urlOptions.split('\u0026');\n  options.map(option =\u003e {\n    const equalIndex = option.indexOf('=');\n    obj[option.slice(0, equalIndex)] = option.slice(equalIndex + 1, option.length);\n  });\n  return obj;\n}\n```\n\n## 12. 字符串模板\n## 13. 实现柯里化（Currying）\n\n``` javascript\nfunction curry(fn) {\n    let judge = (...args) =\u003e {\n        if (args.length == fn.length) return fn(...args)\n        return (...arg) =\u003e judge(...args, ...arg)\n    }\n    return judge\n}\n```\n\n## 14. 手写AJAX\n\n``` js\nconst myAjax = (url) =\u003e {\n  return new Promise((resolve, reject) =\u003e {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.setRequestHeader('Accept', 'application/json');\n    xhr.onreadystatechange = () =\u003e {\n      if (xhr.readyState !== 4) return\n      if (xhr.status === 200) {\n        resolve(xhr.responseText)\n      } else {\n        reject(xhr.responseText)\n      }\n    }\n    xhr.send();\n  })\n}\n```\n\n## 15. 手写Promise\n\n``` javascript\nconst PADDING = \"PADDING\";\nconst FULFILLED = \"FULFILLED\";\nconst REJECTED = \"REJECTED\";\n\nclass MyPromise {\n  constructor(executor) {\n    this.status = PADDING;\n    this.value = undefined;\n    this.error = undefined;\n\n    let resolve = (value) =\u003e {\n      if (this.status === PADDING) {\n        this.value = value;\n        this.status = FULFILLED;\n      }\n    }\n\n    let reject = (error) =\u003e {\n      if (this.status === PADDING) {\n        this.error = error;\n        this.status = REJECTED;\n      }\n    }\n\n    try {\n      executor(resolve, reject)\n    } catch (e) {\n      reject(e);\n    }\n  }\n\n  then(onFulfilled, onRejected) {\n    if (this.status === FULFILLED) {\n      onFulfilled(this.value)\n    }\n\n    if (this.status === REJECTED) {\n      onRejected(this.error)\n    }\n  }\n}\n```\n    \n## 16. 实现 Promise.all\n  \n``` js\nconst promiseAll = (promises) =\u003e {\n  if (Array.isArray(promises)) {\n    throw new Error('the arguments must be an array !!!')\n  }\n  const promisesLength = promises.length;\n  let current = 0, result = [];\n  new Promise((resolve, reject) =\u003e {\n    promises.forEach((promise, i) =\u003e {\n      Promise.resolve(promise).then(value =\u003e {\n        current ++;\n        result[i] = value;\n        if (current === promisesLength) {\n          resolve(result)\n        }\n      }, error =\u003e reject(error))\n    })\n  })\n}\n```\n\n## 17. 手写模版字符串\n\n","excerpt":""},"previousPost":{"slug":"css","frontmatter":{"title":"面试题集合（CSS篇）","date":"July 4, 2021","description":null},"excerpt":"","content":"\n1. css 伪类与伪元素区别\n   \n  1）伪类(pseudo-classes)\n\n    其核⼼就是⽤来选择DOM树之外的信息,不能够被普通选择器选择的⽂档之外的元素，⽤来添加⼀些选择器的特殊效果。\n    ⽐如:hover :active :visited :link :visited :first-child :focus :lang等\n    由于状态的变化是⾮静态的，所以元素达到⼀个特定状态时，它可能得到⼀个伪类的样式；当状态改变时，它⼜会失去这个样式。\n    由此可以看出，它的功能和class有些类似，但它是基于⽂档之外的抽象，所以叫 伪类。\n  \n  2）伪元素(Pseudo-elements)\n\n    DOM树没有定义的虚拟元素\n    核⼼就是需要创建通常不存在于⽂档中的元素，\n    ⽐如::before ::after 它选择的是元素指定内容，表示选择元素内容的之前内容或之后内容。\n    伪元素控制的内容和元素是没有差别的，但是它本身只是基于元素的抽象，并不存在于⽂档中，所以称为伪元素。⽤于将特殊的效果添加到某些选择器\n    \n  2）伪类与伪元素的区别\n    \n    表示⽅法\n\n    CSS2 中伪类、伪元素都是以单冒号:表示,\n    CSS2.1 后规定伪类⽤单冒号表示,伪元素⽤双冒号::表示，\n    浏览器同样接受 CSS2 时代已经存在的伪元素(:before, :after, :first�line, :first-letter 等)的单冒号写法。\n    CSS2 之后所有新增的伪元素(如::selection)，应该采⽤双冒号的写法。\n    CSS3中，伪类与伪元素在语法上也有所区别，伪元素修改为以::开头。浏览器对以:开头的伪元素也继续⽀持，但建议规范书写为::开头\n    定义不同\n\n    伪类即假的类，可以添加类来达到效果\n    伪元素即假元素，需要通过添加元素才能达到效果\n    \n    总结:\n\n    伪类和伪元素都是⽤来表示⽂档树以外的\"元素\"。\n    伪类和伪元素分别⽤单冒号:和双冒号::来表示。\n    伪类和伪元素的区别，关键点在于如果没有伪元素(或伪类)，\n    是否需要添加元素才能达到效果，如果是则是伪元素，反之则是伪类。\n  4）相同之处：\n\n    伪类和伪元素都不出现在源⽂件和DOM树中。也就是说在html源⽂件中是看不到伪类和伪元素的。\n  \n    不同之处：\n    \n    伪类其实就是基于普通DOM元素⽽产⽣的不同状态，他是DOM元素的某⼀特征。\n    伪元素能够创建在DOM树中不存在的抽象对象，⽽且这些抽象对象是能够访问到的。"},"nextPost":{"slug":"questions","frontmatter":{"title":"面试题集合（真题篇）","date":"July 5, 2021","description":null},"excerpt":"","content":"\n### 1. 性能优化 ：项⽬⾥做过哪些性能优化，怎么检测性能，有没有实际测过优化的数据有多少提升\n  ![性能优化](performance.jpeg)\n\n#### 性能优化\n\n- 避免过多的回流与重绘\n  \n  实质上是避免过多的 **render tree** 操作，避免使用table布局；DOM结构避免嵌套过深\n\n- JavaScript、Css、Html压缩\n- splitChunks 拆包\n- 网页中可视化部分（图片，视频等）采用骨架\n- 函数的频繁调用考虑使用防抖节流\n- 多利用缓存（多跟服务器端有关）\n- 大的基础库使用CDN\n- 用上懒加载和预加载\n- 使用Service Worker\n  \n#### 检测性能\n\n- 很直观的看network页面的load时间\n- lighthouse进行检测\n- 用webpack-bundle-analyzer查看打包后资源情况\n  \n### 2. http2.0有哪些特性？https是怎么加密的，https强缓存在项目中怎么用的\n\n#### http2.0的特性\n- 二进制分帧\n\n  HTTP 1.x 的解析是基于文本，HTTP 2之后将所有传输的信息分割为更小的消息和帧，并对它们采用二进制格式的编码，提高传输效率\n\n- 多路复用\n  \n  一次链接成功后，只要链接还没断开，那么 client 端就可以在一个链接中**并发**地发起多个请求，每个请求及该请求的响应不需要等待其他的请求，某个请求任务耗时严重，不会影响到其它连接的正常执行\n\n- 头部压缩\n  \n  由于 HTTP 是无状态的，每一个请求都需要头部信息标识这次请求相关信息，所以会造成传输很多重复的信息，当请求数量增大的时候，消耗的资源就会慢慢积累上去。所以 HTTP 2 可以维护一个头部信息字典，差量进行更新头信息，减少头部信息传输占用的资源\n\n#### HTTP 与 HTTPS\n\n- HTTP 是明文传输，HTTPS 通过 SSL\\TLS 进行了加密\n- HTTP 的端口号是 80，HTTPS 是 443\n- HTTPS 需要到 CA 申请证书，一般免费证书很少，需要交费\n- HTTPS 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。\n\n#### 浏览器缓存策略\n\n"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"write"},"buildId":"v0p1rVjIpiokHQpIqbqvs","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-c6f966696d7d46f48c33.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" async=""></script><script src="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" async=""></script><script src="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" async=""></script><script src="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-24ffb71f4452474ea7b9.js" async=""></script><script src="/_next/static/v0p1rVjIpiokHQpIqbqvs/_buildManifest.js" async=""></script><script src="/_next/static/v0p1rVjIpiokHQpIqbqvs/_ssgManifest.js" async=""></script></body></html>